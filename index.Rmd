---
title: Gathering Bibliometric Information using Scopus
author:
  - name: John Muschelli
    affiliation: Department of Biostatistics, Johns Hopkins Bloomberg School of Public Health
    address: >
      615 N Wolfe St
      Baltimore, MD 21205
    email: jmuschel@jhsph.edu
    url: http://johnmuschelli.com  
abstract: >
  An abstract of less than 150 words.
output:
  rticles::rjournal_article:
    includes:
      in_header: preamble.tex
---

## Introduction

Scopus a repository of information about scientific articles and books, which includes information about authors, citations, and abstracts of these pieces of literature.  Scopus claims to have the largest database of this information.  


One common task for researchers is to keep the curriculum vitae (CV) up to date.  That requires having up to date information on the papers published and under submission.  Keeping track of these papers can be tedious and automated solutions could exist, but are not widely used (THINK OF SERVICES THAT TRY TO do this).  One conern is always to be missing certain crucial papers in your CV.  Although \pkg{rscopus} does not provide these tools specifically, it can be used to consistently cross-reference information about publications with a CV.  

Additionally on CVs, it is useful to present information of the impact of a paper on the CV.  This can be done by highlighting certain pieces of information, such is done in NIH biosketches, or ranking them based on some metric.  The metric commonly used is the number of citations.  Also, information about the journal impact factor may be taken into account.  We do not note that these are particularly good metrics or metrics that reflect true impact, but are simply those that we have seen used in practice.

 \pkg{rscopus} allows you to interface with Scopus APIs and gather information about authors, affiliations, articles, and abstracts.  The \pkg{bibliometrix} package provides a level of integration that is useful for using multiple packages that deal with bibliometric data, incorporating functionality from \pkg{rscopus}.  The \pkg{bibliometrix} package also enables users to analyze data from ISI Web of Knowledge (WoK) and PubMed.  Web of Knowledge is one competitor to Scopus, but \pkg{bibliometrix} does not have an interface to the WoK API; therefore data must be manually exported from the site into `R`.   Additional access to the web of Science API would be useful and has been implemented in a GitHub package \pkg{rwos} (https://github.com/juba/rwos), but is not on CRAN.
 
 Moreover, other packages such as \pkg{scholar} and \pkg{gcite} can provide interfaces to the Google Scholar citation information.  Using these in combination with \pkg{rscopus} can more likely guarantee complete information.  


As compared to Google Scholar, WoK and Scopus information is **more curated** (is that true?). 


As many pieces of academic promotion are related citation metrics or impact, these metrics can have real-life implications.  

Here we will present a few examples of how to use the \pkg{rscopus} package, and present a simple descriptive analysis of citations and citation indices from people within the same field.



## API Key
Before using the package, one must obtain an access key to the API from https://dev.elsevier.com/sc_apis.html with the following steps:

1.  Go to https://dev.elsevier.com/user/login. Login or create a free account.
2.  Click "Create API Key".  Put in a label, such as `rscopus key`.  Add a website.  http://example.com is fine if you do not have a site.
3.  **Read** and agree to the terms of service if you do indeed agree.
4.  Add `Elsevier_API = "API KEY GOES HERE"` to `~/.Renviron` file, or add `export Elsevier_API=API KEY GOES HERE` to your `~/.bash_profile`. 

Alternatively, you you can either set the API key using `rscopus::set_api_key` or by `options("elsevier_api_key" = api_key)`.  You can access the API key using `rscopus::get_api_key`. 

You should be able to test out the API key using the [interactive Scopus APIs](https://dev.elsevier.com/scopus.html).

### A note about API keys and IP addresses
The API Key is bound to a set of IP addresses, usually bound to your institution or organization (see https://dev.elsevier.com/tecdoc_api_authentication.html).  Therefore, if you are using \pkg{rscopus} for a Shiny application, you must host the Shiny application from the institution/organization servers in some way.  Also, you cannot access the Scopus API with this key if you are offsite and must VPN into the server or use a computing cluster with an institution IP.


## Use cases

```{r retrieval}
library(rscopus)
author_info = author_retrieval(last_name = "Muschelli", first_name = "J")
names(author_info$content)
```

In many cases with the API, you will specify the author identifier (`au_id`) instead of a first and last name, as there may be many authors with the same name.  This identifier is unique to this author, though curation errors do happen and someone may have 2 unique identifiers.  These identifiers can be merged by request on the Scopus website.   In order to get the identifier from Scopus, you can search using a first and last name using the `process_author_name` command.  

```{r auth_name}
auth_name = process_author_name(last_name = "Muschelli", first_name = "John")
auth_name
```
In almost all command respones from the API, the result is the content and the first element of that content is named `entries`.  The low-level function `gen_entries_to_df` attempts to coerce this list into a standard `data.frame` for more usability, but may not perform perfectly as lists from JSON cannot always be directly coerced into a rectangular format. 

### Retrieving information about an author

Researchers commonly would like to gather information about a set of authors.  Most times the authors are the given by first and last names or initials; additional information such as affiliation may be available.  Scopus provides unique identifier for authors or affiliations.  

In order to get information about an affiliation, the `get_affiliation_info` can be used.  Here we will look for the pattern `Johns Hopkins`:

```{r}
jhu_info = get_affiliation_info(affil_name = "Johns Hopkins")
head(jhu_info[, c("affil_id", "affil_name")])
```
This function implicitly calls `affil_search`, which searches the affiliation information from Scopus.  Additional information can be extracted using `affil_search`, but this typically includes a large number of records as it searches all the documents.  This affiliation ID can be used to be more specific when searching authors or documents.


In order to retrieve author IDs from first and last names, the `get_complete_author_info` can be used:

```{r ssmith_info2}
all_auth_info = get_complete_author_info(last_name = "West", first_name = "M")
names(all_auth_info$content)
class(all_auth_info)
```

This function gives the direct result of the query, which may not be most useful to users.  The `get_complete_author_info` function also has an `affil_id` argument to pass in affiliation

```{r ssmith_info}
auth_info = get_author_info(last_name = "Smith", first_name = "S")
class(auth_info)
head(auth_info, 5)
```




```{r ssmith_name}
ssmith = process_author_name(last_name = "Smith", first_name = "S")
ssmith
```




This section may contain a figure such as Figure \ref{figure:rlogo}.

\begin{figure}[htbp]
  \centering
  \includegraphics{Rlogo}
  \caption{The logo of R.}
  \label{figure:rlogo}
\end{figure}

## Another section

There will likely be several sections, perhaps including code snippets, such as:

```{r}
x <- 1:10
x
```

## Summary

This file is only a basic article template. For full details of _The R Journal_ style and information on how to prepare your article for submission, see the [Instructions for Authors](https://journal.r-project.org/share/author-guide.pdf).
\bibliography{RJreferences}
